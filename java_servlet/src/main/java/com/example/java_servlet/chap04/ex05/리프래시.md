# 리프래시

일정 시간이 지나고 나서 자동으로 서버에 요청을 보내는 방법을 알아보자
이것을 리프래시(Refresh), 우리 말로 새로 고침이라고 한다.

### 자동으로 회원 목록 출력하기

1. 웹 브라우저에서 '회원 등록 입력 폼'을 요청한다.
2. MemberAddServlet은 회원 등록폼을 클라이언트로 보낸다.
3. 웹 브라우저는 회원 등록폼을 화면에 출력한다. 사용자가 회원 정보를 입력하고 나서 '추가' 버튼을 누르면
서버에 등록을 요청 한다.
   
4. MemberAddServlet은 회원 등록 결과를 클라이언트로 보낸다.
5. 웹 브라우저는 회원 등록 결과를 출력한다. 그리고 1초 후에 서버에 '회원 목록'을 요청한다.
6. MemberListServlet 은 회원 목록을 클라이언트로 보낸다.

### 응답 헤더를 이용한 리프래시

응답 헤더를 이용하여 리프래시 정보를 보낼 수 있습니다.
```java
response.addHeader("Refresh","1;url=list");
```

HttpServletResponse 의 addHeader()는 HTTP 응답 정보에 헤더를 추가하는 메서드입니다. 

'Refresh' 헤더의 값을 살펴보면 숫자 '1'은 응답 본문을 출력하고 나서 1초 뒤에 다시 서비스를 요청하라는 뜻입니다.
이때 URL이 '/' 로 시작하지 않기 때문에 상대 경로로 계산됩니다. 즉 현재 경로가 /member/add 이니깐
list의 최종 경로는 현재 경로를 기준으로 계산하여 /member/list 입니다.


### HTML의 meta 태그를 이용한 리프래시

리프래시 정보는 HTML 본문에 포함시켜 보낼 수 있습니다.

```java
out.println("<meta http-equiv='Refresh' content='1; url=list'>");
```

작업 결과를 출력한 후 다른 페이지로 이동할 때는 리프래시를 사용합니다.
만약 작업 결과를 출력하지 않고 다른 페이지로 이동할 때는 '리다이렉트'로 처리해야 합니다. 